Iltimos, quyidagilarni bajaring va faqat loyiha fayllarini chiqaring (kommentariyalar bilan kod ichida OK):

Vazifa: Milliy Brend Reklama agentligi uchun Telegram-bot yozing. Texnologiya: Node.js + TypeScript + telegraf. Maqsad â€” mijozlardan buyurtma qabul qilish, buyurtma statusini tekshirish, portfolio, bogâ€˜lanish, va admin uchun mini-CRM (yangi buyurtmalar, status oâ€˜zgartirish, broadcast).

Talablar (ancha batafsil, barchasini bajarish shart):

Project structure: aniq papkalar va fayllar (package.json, tsconfig.json, src/index.ts, src/db.ts va boshqalar). Replit-ga mos start script bilan.

Bot framework: telegraf (TypeScript), async/await ishlatilgan, kod toza va modulga boâ€˜lingan minimal strukturada.

Maâ€™lumotlar bazasi: sqlite (better-sqlite3 yoki sqlite3), jadval orders quyidagi maydonlar bilan:

id (MBR-XXXX formatiga oâ€˜xshash)

user_id

user_name

phone

service_type

company_name

description

size_format

address

deadline

budget_range

status

files (JSON)

created_at, updated_at

Foydalanuvchi funksional:

/start menyusi (klaviatura): ğŸ§¾ Buyurtma berish, ğŸ“‚ Ishlarimiz (Portfolio), ğŸ“Š Buyurtmam holati, ğŸ“ Bogâ€˜lanish, â„¹ï¸ Agentlik haqida

Buyurtma wizard (step-by-step): xizmat turi â†’ kompaniya nomi â†’ izoh â†’ oâ€˜lcham â†’ manzil â†’ deadline â†’ budjet (inline tugmalar) â†’ fayl (document) yoki â€œâŒ Fayl yoâ€˜qâ€ â†’ aloqa ismi â†’ telefon â†’ tasdiqlash â†’ saqlash

Bot buyurtma saqlaganda userga buyurtma raqamini beradi: MBR-XXXX (unique)

ğŸ“Š Buyurtmam holati boâ€˜limi: user buyurtma ID kiritsa bot statusni koâ€˜rsatadi; topilmasa xato habar.

ğŸ“‚ Ishlarimiz (Portfolio): media group yoki rasm stub / misol koâ€˜rsatish. (Media fayllarni qanday joylashni qisqacha koâ€˜rsat)

ğŸ“ Bogâ€˜lanish: telefonlar, Telegram username, manzil va user yozgan savollar admin guruhiga forward qilinishi (format bilan).

â„¹ï¸ Agentlik haqida: agentlikning qisqacha matni.

Admin funksional:

Adminlar IDlari .env ichida ADMIN_IDS sifatida boâ€˜lsin.

/admin menusi (inline tugmalar): ğŸ“‹ Yangi buyurtmalar, ğŸ” Buyurtma qidirish, ğŸ“ Status oâ€˜zgartirish, ğŸ“¢ Broadcast

ğŸ“‹ Yangi buyurtmalar: oxirgi 10 ta yangi buyurtma va /open_MBR-XXXX koâ€˜rinishida tugma/komanda.

/open_MBR-XXXX â€” buyurtma toâ€˜liq maÊ¼lumotini chiqaradi va inline tugmalar orqali statusni: YANGI, DIZAYN BOSQICHIDA, MIJOZ TASDIQIDA, ISHLAB CHIQARISHDA, Oâ€˜RNATILMOQDA, YOPILGAN ga oâ€˜zgartirish.

Status oâ€˜zgartirilganda userga (agar user_id mavjud boâ€˜lsa) avtomatik habar yuborilsin.

Broadcast: admin matn yozadi â†’ tasdiqlash â†’ barcha distinct user_id lariga habar joâ€˜natiladi.

Fayl va media:

Document fayllar telegram file_id sifatida bazada JSON saqlansin. (Agar Replit uchun lokal fayl saqlash koâ€˜rsatmasi bersangiz, koâ€˜rsatma qiling.)

Xavfsizlik va validatsiya:

Admin-only komandalar tekshiruvi (ADMIN_IDS).

User input uchun minimal validatsiya (masalan: order id format, telefon raqamining mavjudligi).

Konfiguratsiya:

.env fayl orqali BOT_TOKEN, ADMIN_IDS (comma separated) va boshqa kerakli sozlamalar.

Ishga tushirish:

package.json ichida start, dev skriptlar (ts-node bilan dev) va README bilan qisqacha how to run.

Output format talab:

AI faqat kerakli loyihani fayl strukturasi bilan birga tarqatiladigan kod koâ€˜rsatishi â€” hech qanday ortiqcha uzun izohlar yoki nazariy maâ€™lumotlar bermasin. Agar kerakli joylarda izoh yozilsa, kod ichidagi qisqa kommentariyalar yetarli.

Qoâ€˜shimcha:

Kod modulga boâ€˜lingan, lekin bitta fayl kerak boâ€˜lsa minimal src/index.ts versiyasini ham bering.

Unit testlar shart emas, lekin qisqa eÊ¼tibor (error handling) qoâ€˜shilsin.

END: Paste your full scenario here:

ğŸ“ The Beauty Room â€“ 3D boâ€˜rtma harf
Fon: qora, harflar: oq, LED yoritish
Manzil: Samarkand

Boâ€˜lim oxirida:

Bot:

Sizga shunga oâ€˜xshash reklama kerakmi?
â€œğŸ§¾ Buyurtma berishâ€ tugmasini bosing ğŸ‘‡

Tugmalar:

ğŸ§¾ Buyurtma berish

ğŸ”™ Asosiy menyu

5ï¸âƒ£ Menyu: ğŸ“Š BUYURTMAM HOLATI

User tugma bosadi: ğŸ“Š Buyurtmam holati

Bot:

Buyurtma raqamingizni kiriting:
(Masalan: MBR-1024)

User: MBR-1024

Bot:

Iltimos, kuting, maâ€™lumotlar tekshirilmoqda...

Developer backendâ€™da buyurtmani statusiga qarab javob qaytaradi:

Bot (topilsa):

Buyurtma: MBR-1024

Xizmat turi: 3D lettering
Kompaniya: The Beauty Room
Status: DIZAYN BOSQICHIDA
Taxminiy tayyor boâ€˜lish vaqti: 10-dekabr, soat 18:00

Qoâ€˜shimcha savollar boâ€˜lsa, â€œğŸ“ Bogâ€˜lanishâ€ boâ€˜limidan murojaat qilishingiz mumkin.

Agar topilmasa:

Bot:

Kechirasiz, bu raqam boâ€˜yicha buyurtma topilmadi.
Raqamni tekshirib, qaytadan urining yoki operatorlarimiz bilan bogâ€˜laning.

6ï¸âƒ£ Menyu: ğŸ“ BOGLANISH

User tugma bosadi: ğŸ“ Bogâ€˜lanish

Bot:

Biz bilan quyidagi usullar orqali bogâ€˜lanishingiz mumkin:

â˜ï¸ Telefon: +998 (raqam1)
â˜ï¸ Telefon: +998 (raqam2)
ğŸ“² Telegram: @username
ğŸ“ Manzil: Samarkand, ...

Savolingiz boâ€˜lsa, shu yerga yozib qoldiring â€“ menejerlarimiz siz bilan bogâ€˜lanishadi.

User yozgan har qanday savol:

Adminlar guruhiga forward qilinadi:

âœ‰ï¸ Yangi savol botdan:
User: @username / full name
Matn: ...

Bot userga:

Savolingiz qabul qilindi âœ…
Tez orada siz bilan bogâ€˜lanamiz.

7ï¸âƒ£ Menyu: â„¹ï¸ AGENTLIK HAQIDA

User tugma bosadi: â„¹ï¸ Agentlik haqida

Bot:

ğŸ¯ Milliy Brend Reklama Agentligi
â€œGrafika, poligrafiya va innovatsion reklama markaziâ€

Asosiy yoâ€˜nalishlar:
â€¢ Grafika va SMM dizayn
â€¢ Poligrafiya (vizitka, flyer, buklet, menyu, katalog)
â€¢ 3D burtma harflar va hajmli yozuvlar
â€¢ Brending va rebrending
â€¢ Veb-sayt va taqdimot dizayni

Bizning maqsadimiz â€“ sizning biznesingizni yangi bosqichga olib chiqish va brendingizni bozorda ajralib turadigan darajaga chiqarish.

Batafsil maâ€™lumot uchun:
ğŸ“ Telefon: +998 ...
ğŸŒ Sayt: (keyin qoâ€˜shiladi)

Tugma:

ğŸ§¾ Buyurtma berish

ğŸ”™ Asosiy menyu

8ï¸âƒ£ ADMIN PANEL (faqat adminlar uchun)

Adminlar uchun /admin komanda:

Admin yozadi: /admin

Agar admin boâ€˜lsa â€“ Bot:

âš™ï¸ Admin panel
Tanlang:

Tugmalar:

ğŸ“‹ Yangi buyurtmalar

ğŸ” Buyurtma qidirish

ğŸ“ Status oâ€˜zgartirish

ğŸ“¢ Broadcast (xabar yuborish)

ğŸ”™ Asosiy menyu

8.1. ğŸ“‹ Yangi buyurtmalar

Bot:

Oxirgi 10 ta yangi buyurtma:

Keyingi formatda chiqaradi:

ID: MBR-1024
Ism: ...
Xizmat: ...
Status: YANGI
/open_MBR-1024

Admin: /open_MBR-1024 yozsa:

Bot:

ID: MBR-1024
Barcha maâ€™lumotlarni chiqaradi (kompaniya, izoh, fayl, kontakt...)

8.2. ğŸ“ Status oâ€˜zgartirish

Admin tugma bosadi: ğŸ“ Status oâ€˜zgartirish

Bot:

Qaysi buyurtma ID sini oâ€˜zgartirishni xohlaysiz?
(Masalan: MBR-1024)

Admin ID yuboradi.

Bot:

Yangi statusni tanlang:

Tugmalar:

ğŸŸ¢ YANGI

ğŸŸ¡ DIZAYN BOSQICHIDA

ğŸ”µ MIJOZ TASDIQIDA

ğŸŸ£ ISHLAB CHIQARISHDA

ğŸŸ¤ Oâ€˜RNATILMOQDA

âš«ï¸ YOPILGAN

Tanlangandan keyin:

Bot:

Status muvaffaqiyatli oâ€˜zgartirildi âœ…

User tomonida ham (agar xohlasangiz) avtomatik xabar ketishi mumkin:

Buyurtmangiz MBR-1024 statusi yangilandi:
Yangi status: DIZAYN BOSQICHIDA

8.3. ğŸ“¢ Broadcast

Admin tugma bosadi: ğŸ“¢ Broadcast

Bot:

Barcha foydalanuvchilarga yuboriladigan xabar matnini yozing:

Admin matn yozadi.

Bot:

Tasdiqlaysizmi?

Tugmalar:

âœ… Ha, yuborilsin

âŒ Bekor qilish

âœ… Ha boâ€˜lsa â€“ barcha userlarga xabar tarqatiladi.

9ï¸âƒ£ Texnik eslatmalar (dasturchi uchun qisqacha)

Har bir user uchun user_id, name, phone, soâ€˜rovlar tarixi saqlanishi foydali.

Har bir buyurtma uchun:

order_id (MBR-XXXX)

user_id

service_type

company_name

description

size_format

address

deadline

budget_range

files

status

created_at, updated_at

Adminlar roâ€˜yxati: ADMIN_IDS = [id1, id2, ...]

Quyida Milliy Brend Reklama Agentligi uchun Telegram bot ssenariysini tuzib berdim: menyular, matnlar, qadamlar hammasi tayyor.

1ï¸âƒ£ Bot haqida qisqacha

Bot nomi (misol): Milliy Brend Reklama | Bot
Maqsad:

Mijozlardan buyurtma olish

Ishlar portfoliolarini koâ€˜rsatish

Mijozlarga aloqa maâ€™lumotlarini berish

Buyurtma statusini kuzatish

Adminlar uchun CRMga oâ€˜xshash boshqaruv

2ï¸âƒ£ Boshlanish â€“ /start ssenariysi

/start bosilganda:

Bot:

Assalomu alaykum! ğŸ‘‹
Siz Milliy Brend Reklama Agentligining rasmiy botidasiz.
Bu yerda siz:
â€¢ Reklama va dizayn boâ€˜yicha buyurtma berishingiz
â€¢ Oldingi ishlarimizni koâ€˜rishingiz
â€¢ Buyurtmangiz holatini kuzatishingiz
â€¢ Operatorlarimiz bilan bogâ€˜lanishingiz mumkin.

Quyidagilardan birini tanlang ğŸ‘‡

Asosiy menyu tugmalari:

ğŸ§¾ Buyurtma berish

ğŸ“‚ Ishlarimiz (Portfolio)

ğŸ“Š Buyurtmam holati

ğŸ“ Bogâ€˜lanish

â„¹ï¸ Agentlik haqida

(Adminlar uchun yashirin: âš™ï¸ Admin panel â€“ faqat /admin orqali)

3ï¸âƒ£ Menyu: ğŸ§¾ BUYURTMA BERISH

User tugma bosadi: ğŸ§¾ Buyurtma berish

Bot:

Qanday xizmat boâ€˜yicha buyurtma bermoqchisiz? ğŸ‘‡

Xizmat turlari:

ğŸ¨ Grafika dizayni (post, banner, logo...)

ğŸ–¨ Poligrafiya (vizitka, flyer, buklet, katalog)

ğŸ§± 3D lettering va hajmli yozuvlar

ğŸ§¬ Brending / Rebrending

ğŸ“± SMM dizayn (Instagram, TikTok, YouTube)

ğŸ§¾ Boshqa xizmat (izohda yozaman)

3.1. Xizmat tanlangandan keyin umumiy forma

Bot:

Kompaniya yoki brend nomini yozing:
(Masalan: â€œMilliy Mebelâ€, â€œThe Beauty Roomâ€)

User: matn yuboradi.

Bot:

Qisqacha izoh yozing, sizga qanday reklama/dizayn kerak?
(Masalan: 3x6 banner, qora fon, oq harf, premium uslub, yoki: 3D yozuv kirish qismga...)

User: izoh.

Bot:

Oâ€˜lcham yoki formatni kiriting (agar maâ€™lum boâ€˜lsa):
(Masalan: 3x6 m, 300x70 sm, kvadrat post 1080x1080 va hokazo)

User: oâ€˜lcham.

Bot:

Buyurtma qayerga kerak?
(Manzil yoki shahar: Samarkand, Pastdargâ€˜om, manzil va h.k.)

User: manzil.

Bot:

Qachongacha tayyor boâ€˜lishi kerak? â°
(Masalan: 3 kun ichida, 10-dekabrgacha va hokazo)

User: deadline.

Bot:

Taxminiy budjetingizni tanlang ğŸ’°

Tugmalar:

ğŸ’µ 1 000 000 gacha

ğŸ’µ 1 000 000 â€“ 3 000 000

ğŸ’µ 3 000 000 â€“ 5 000 000

ğŸ’µ 5 000 000 dan yuqori

ğŸ¤ Aniq emas, kelishamiz

User tanlaydi.

Bot:

Agar logo, eski dizayn yoki texnik topshiriq fayllaringiz boâ€˜lsa, shu yerga yuboring (rasm, PDF, doc va h.k.).
Agar hech narsa boâ€˜lmasa, â€œâŒ Fayl yoâ€˜qâ€ tugmasini bosing.

Tugmalar:

ğŸ“ Fayl yuboraman (oddiy attach)

âŒ Fayl yoâ€˜q

(Fayl boâ€˜lsa â€“ bot saqlaydi, boâ€˜lmasa â€“ keyingi qadamga oâ€˜tadi.)

Bot (keyin):

Aloqa uchun ism va familiyangizni yozing:

User: ism familiya.

Bot:

Telefon raqamingizni yuboring ğŸ“±
Tugmadan foydalanishingiz mumkin ğŸ‘‡

Tugma:

ğŸ“² Raqamni yuborish (contact)

(Agar user contact yubormasa, odiy matn ham qabul qilinadi.)

3.2. Buyurtmani tasdiqlash

Bot ichida buyurtma maâ€™lumotlari jamlanadi va userga koâ€˜rsatiladi:

Bot:

âœ… Buyurtma maâ€™lumotlari:
â€¢ Xizmat turi: ...
â€¢ Kompaniya: ...
â€¢ Izoh: ...
â€¢ Oâ€˜lcham / format: ...
â€¢ Manzil: ...
â€¢ Muddat: ...
â€¢ Budjet: ...
â€¢ Ism: ...
â€¢ Telefon: ...

Hammasi toâ€˜gâ€˜rimi?

Tugmalar:

âœ… Tasdiqlash

âœï¸ Oâ€˜zgartirish (buyurtmani qaytadan toâ€˜ldirish)

User: âœ… Tasdiqlash bosganda:

Bot:

Rahmat! ğŸ‰
Buyurtmangiz qabul qilindi.
Bizning menejerlarimiz tez orada siz bilan bogâ€˜lanishadi.

Buyurtma raqamingiz: MBR-{{ID}}
Shu raqam orqali â€œğŸ“Š Buyurtmam holatiâ€ boâ€˜limidan kuzatishingiz mumkin.

3.3. Adminlarga xabar

Developer uchun:

Har bir buyurtma adminlar guruhiga yuboriladi (ADMIN_CHAT_ID).

Strukturasi:

ğŸ†• Yangi buyurtma!

ID: MBR-{{ID}}
Xizmat turi: ...
Kompaniya: ...
Izoh: ...
Oâ€˜lcham: ...
Manzil: ...
Muddat: ...
Budjet: ...
Ism: ...
Telefon: ...

Status: YANGI
Statusni /status_{{ID}} komandasi orqali oâ€˜zgartiring.

4ï¸âƒ£ Menyu: ğŸ“‚ ISHLARIMIZ (PORTFOLIO)

User tugma bosadi: ğŸ“‚ Ishlarimiz (Portfolio)

Bot:

Qaysi yoâ€˜nalishdagi ishlarimizni koâ€˜rmoqchisiz? ğŸ‘‡

Tugmalar:

ğŸ“Œ 3D lettering va hajmli yozuvlar

ğŸ–¨ Banner va poligrafiya

ğŸ¨ Logotip va brending

ğŸ“± SMM dizaynlar

ğŸ”™ Orqaga

Har bir boâ€˜limda:

Bot oldindan tayyorlangan 5â€“10 ta rasm/mediani media group yoki bitta-bitta bilan chiqaradi.

Har bir rasm ostida qisqa izoh


Agar imkon boâ€˜lsa, ikkita variant bering:

minimal single-file src/index.ts (tez ishga tushirish uchun)

modular project (src/, src/db.ts, src/handlers/*.ts, package.json)
